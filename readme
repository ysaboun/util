Voici un exemple de **README** clair et structur√© pour ton script SQLcl d‚Äôexport CSV avec jointure, s√©parateur `;`, log de progression, et calcul de dur√©e.

---

## üìÑ `README.md` ‚Äî Export Oracle vers CSV avec SQLcl

### üéØ Objectif

Ce script SQL permet d‚Äôexporter les r√©sultats d‚Äôune requ√™te SQL (avec jointure) dans un fichier CSV, en utilisant **Oracle SQLcl**.

Il inclut :

* S√©parateur `;` pour compatibilit√© Excel et LibreOffice
* Nom de fichier horodat√© (`export_YYYYMMDD_HHMMSS.csv`)
* Log d‚Äôex√©cution (`.log`) incluant :

  * Heure de d√©but et de fin
  * Nombre de lignes export√©es
  * Dur√©e totale de l‚Äôexport

---

### üõ†Ô∏è Pr√©requis

* Oracle SQLcl install√© ([https://www.oracle.com/database/sqldeveloper/technologies/sqlcl/](https://www.oracle.com/database/sqldeveloper/technologies/sqlcl/))
* Droits d‚Äôacc√®s √† la base Oracle distante
* Requ√™te SQL fonctionnelle (ex. jointure entre `emp` et `dept`)
* Droits d‚Äô√©criture sur le r√©pertoire de sortie (`/chemin/vers/`)

---

### üìÅ Contenu du d√©p√¥t

* `export_jointure_csv.sql` ‚Üí Script SQL principal
* (optionnel) `export.sh` ‚Üí Script shell pour lancer automatiquement l‚Äôexport
* `README.md` ‚Üí Ce fichier

---

### üì¶ Export g√©n√©r√©

* Exemple de fichier CSV : `export_20250520_162505.csv`
* Exemple de log : `export_20250520_162505.log`

---

### ‚ñ∂Ô∏è Lancer le script

```bash
sql -s user/password@//host:port/SERVICE @/chemin/vers/export_jointure_csv.sql
```

> Remplace `user`, `password`, `host`, `port` et `SERVICE` selon ton environnement Oracle.

---

### ‚úÖ Format attendu du CSV

Chaque ligne du fichier CSV g√©n√©r√© est s√©par√©e par `;` :

```
7369;SMITH;CLERK;1980-12-17;800;RESEARCH
7499;ALLEN;SALESMAN;1981-02-20;1600;SALES
...
```

---

### üìù Structure du log (`.log`)

```
=== LOG EXPORT CSV ORACLE SQLcl ===
Date d‚Äôexport         : 20250520_162505
Heure de d√©but        : 2025-05-20 16:25:05.123456
Heure de fin          : 2025-05-20 16:25:08.456789
Lignes export√©es      : 42
Dur√©e totale          : +00 00:00:03.333333
Fichier CSV g√©n√©r√©    : /chemin/vers/export_20250520_162505.csv
Statut                : SUCC√àS
```

---

### üõ†Ô∏è Personnalisation

* Modifier la requ√™te SQL dans `export_jointure_csv.sql` si n√©cessaire.
* Changer le r√©pertoire de sortie (`/chemin/vers/`) selon ton syst√®me.
* Utiliser `TO_CHAR(..., 'YYYY-MM-DD')` pour garantir une exportation de date lisible.

---

### üìå Conseils

* V√©rifie que tu utilises **SQLcl**, pas SQL\*Plus.
* Le s√©parateur `;` est d√©fini par `SET COLSEP ';'`.
* En cas de probl√®me avec les formats, utilise `TO_CHAR()` sur les dates et nombres.

---

### üìû Support

En cas de probl√®me, v√©rifie :

* Que le fichier `.csv` est bien g√©n√©r√©
* Que tu as les droits d‚Äôacc√®s au dossier
* Que `SET COLSEP ';'` est pris en compte
* Que tu n‚Äôutilises **pas SQL\*Plus** (seulement SQLcl)

---

Souhaites-tu que je t‚Äôajoute aussi un script shell (`export.sh`) pour tout ex√©cuter automatiquement avec logs ?
